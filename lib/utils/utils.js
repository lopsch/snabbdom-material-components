'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0}),exports.PropsNormalizer=void 0;exports.delayInit=delayInit,exports.uuid=uuid,exports.makeHooks=makeHooks,exports.makeSelector=makeSelector,exports.makeKeyValue=makeKeyValue;var _typestyle=require('typestyle'),_snabbdomJsxPragma=require('snabbdom-jsx-pragma');function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function delayInit(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:100,d=window.getComputedStyle(a).position;if('relative'===d)b();else{var e=0;e=window.setInterval(function(){d=window.getComputedStyle(a).position,'relative'===d&&(window.clearInterval(e),b())},c)}}function uuid(){return _uuid()}function _uuid(b){return b?(b^16*Math.random()>>b/4).toString(16):'10000000-1000-4000-8000-100000000000'.replace(/[018]/g,_uuid)}function makeHooks(a){function b(a){'function'==typeof a&&a.apply(void 0,_toConsumableArray(Array.prototype.slice.call(arguments,1)))}return{insert:function(b){var c=new a(b);b.data.material=c},postpatch:function(a,c){c.data.material=a.data.material,b.apply(void 0,[c.data.material.update].concat(Array.prototype.slice.call(arguments)))},destroy:function(a){b.apply(void 0,[a.data.material.destroy].concat(Array.prototype.slice.call(arguments)))}}}function makeSelector(a){return a?{selector:'#'+a}:{}}function makeKeyValue(a,b){return b?_defineProperty({},a,b):{}}var PropsNormalizer=exports.PropsNormalizer=function(){function a(b,c){_classCallCheck(this,a);var d=b||{},e=d.classNames?this._classes(this._fromClassNames([d.classNames])):{},f=d.style?this._classes(this._fromClassNames([(0,_typestyle.style)(d.style)])):{},g=d['class']?d['class']:{},h=this._fromSwitches(c||{},d),j=[e,f,g,h];this.extractedClasses={};for(var k,l=0;l<j.length;l++)for(var i in k=j[l],k)this.extractedClasses[i]=k[i];this.normalizedProps=d,delete this.normalizedProps.classNames,delete this.normalizedProps.style,delete this.normalizedProps['class']}return _createClass(a,[{key:'_fromSwitches',value:function _fromSwitches(a,b){var c={};for(var d in a)c[a[d]]=!!b[d];return c}},{key:'_classes',value:function _classes(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return map}},{key:'_fromClassNames',value:function _fromClassNames(a){return(0,_snabbdomJsxPragma.tryFlatten)((0,_snabbdomJsxPragma.tryFlatten)(a).map(function(a){return a.replace(/\s+/g,'_\xA7\xA7\xA7_').split('_\xA7\xA7\xA7_')}))}},{key:'normalized',get:function get(){return{classes:this.extractedClasses,props:this.normalizedProps}}}]),a}();
//# sourceMappingURL=utils.js.map